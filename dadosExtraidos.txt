|++|  
 
o objetivo geral deste trabalho é a segmentação de crânio s fetais em imagens 
de ultrassonografia  bidimensionais por meio da rede completamente convolucional  
v-net. 
 ;;projetar um 
algoritmo que possa medir automaticamente a circunferência da cabeça do feto 
media nte image ns de ultrassonografia bidimensiona is (2d). o desafio possibilita a 
submissão de resultados, tornando possível a comparação entre os resultados obtidos 
por outros pesquisadores da área.;;  
 
este capítulo descreve a metodologia utilizada para o desenvolvimento do 
presente trabalho. dessa maneira, a seção 4.1 aborda as informações sobre a 
metodologia proposta para a realização do trabalho . na seção 4.1.1 são abordados  
os estudo s sobre o desafio hc18.  na seção 4.1.2, serão apresentadas  as principais  
ferramentas utilizadas para a realização dos experimentos. na seção 4.1.3, é descrit a 
a etapa de pré -processamento  realizada no dataset . na seção 4.1.4 são abordadas  
as alterações impostas na arquitetura da rede v -net para a segmentação de crânios 
fetais . na seção 4.1.5 é descrit a a etapa de pós -processamento realizada nas 
segmentações ineficientes.  na seção 4.1.6 será abordado o código criado para os 
cálculos do hc. e, por fim, na seção 4.1.7 será abordad a a submissão dos resultados 
ao desafio.   
 ;;os resultados obtidos pela metodologia proposta constataram que é possível 
a adaptação da arquitetura da rede neural completamente convolucional v -net que 
foi projetada para segmentação de imagens tridimensionais seja utilizada para o 
emprego em imagens bidimensionais. no entanto, conforme resultados ob tidos pela 
classificação no desafio  percebe -se que ainda há a necessidade de aprimorar a rede 
utilizando outras técnicas para uma melhor segmentação dos crânios fetais.;; 
referências  
abadi, m.; et al. tensorflow: a system for large -scale machine learning.  in: 12th 
usenix symposium on operating systems design and implementation (osdi 
16). savannah, ga. usenix association , p. 265 –283, 2016|| 
abuhamad, a.; et al. ultrasound in obstetrics and gynecology:  a practical 
approach. 1. ed. 2014|| 
aggarwal, c. c.; hinneburg, a; keim, d. a. on the surprising behavior of 
distance metrics in high dimensional space. in:  international conference on 
database theory . springer, berlin, heidelberg, p. 420 -434, 2001|| 
al-karmi, a.  m.; dinno, m.  a.; stoltz, d.  a.; crum, l.  a.; matthews, j.c. 
calcium and effects of ultrasound on frog skin. ultrasound in med . & biol ., 
20(1):73 -81, 1994|| 
almeida c. f. p. mapeamento da distribuição populacional através da 
detecção de áreas edificadas em imagens de regiões heterogêneas do 
google earth usando deep learning, tese de doutorado,  programa de pós-
graduação  em informática da puc -rio. pontifícia universidade católica do rio de 
janeiro, rio de janeiro, 2017|| 
alom, m. z.; et al. recurrent residual convolutional neural network based on u -net 
(r2u -net) for medical image segmentation.  arxiv  preprint arxiv:1802.06955 , 2018|| 
alpert, s.; et al. image segmentation by probabilistic bottom -up aggregation and 
cue integration.  ieee transactions on pattern analysis and machine intelligence , 
v. 34, n. 2, p. 315 -327, 2012|| 
anaconda inc. anaconda documentation: release 2.0 . 2018. disponível em:< 
https://readthedocs.com/projects/continuumio -docs/downloads/pdf/latest/ >. acesso 
em: 8 dez. 2018|| 
apple. performing convolution operations . 2016. disponível em :< 
https://developer.apple.com/library/content /documentation/performance/conceptual/
vimage/convolutionoperations/convolutionoperations.html>. acesso em: 14 nov. 
2018 . 
 
araujo, a. f. d. ; et al. análise e caracterização de lesões de pele para auxílio ao 
diagnóstico médico. avanços em visão computacional , 2012|| 
araújo, f. h.d .; et al. redes neurais convolucionais com tensorflow: teoria 
e prática . sociedade brasileira de computação. iii escola regional de 
informática do piauí. livro anais -artigos e minicursos, v. 1, p. 382 -406, 2017|| 
arel, i .; et al. deep machine learning -a new frontier in artificial intelligence 
research.  ieee computational intelligence magazine , v. 5, n. 4, p. 13 -18, 2010||  
barnard, r. w.; pearce, k; schovanec, l. inequalities for the perimeter of an 
ellipse.  journal of mathematical analysis and applications , v. 260, n. 2, p. 295 -
306, 2001|| 
becker, c. et al. supervised feature learning for curvilinear structure segmentation. 
in: international conference on medical image computing and computer -
assisted intervention . springer, berlin, heidelberg, 2013. p. 526 -533. 
 
bengio, y .; et al. learning deep architectures for ai.  foundations and trends  in 
machine learning , v. 2, n. 1, p. 1 -127, 2009|| 
bennett, n.; burridge, r.; saito, n. a method to detect and characterize 
ellipses using the hough  transform.  ieee transactions on pattern analysis and 
machine intelligence , v. 21, n. 7, p. 652 -657, 1999|| 
berman, m.; rannen t., a.; blaschko, m., b. the lovász -softmax loss: a 
tractable surrogate for the optimization of the intersection -over-union measure in 
neural networks. in: ieee/cvf conference on computer vision and pattern 
recognition. salt lake city, u t, p. 4413 -4421, 2018|| 
beucher, s.; meyer, f. image analysis and mathematical morphology . 
london: london academic press. 1982|| 
boykov, y.  y.; jolly, m. p . interactive graph cuts for optimal boundary & region 
segmentation of objects in nd images. in : proceedings eighth ieee international 
conference on computer vision. iccv 2001 . vancouver, bc, canada, p. 105 -112 
vol.1 , 2001 . 
 
bridge, c. p.; ioannou, c.; noble, j. a. automated annotation and quantitative 
description of ultrasound videos of the fetal hea rt. medical image analysis , v. 36, p. 
147-161, 2017|| 
canny, j. a computational approach to edge detection. in:  readings in computer 
vision . morgan kaufmann, p. 184 -203, 1987|| 
carneiro, g. ; et al. detection of fetal anatomies from ultrasound images using a 
constrained probabilistic boosting tree.  ieee trans. medical imaging , v. 27, n. 9, p. 
1342 -1355, 2008|| 
chaurasia, a.; culurciello, e. linknet: exploiting encoder representations for 
efficient semantic segmentation. in:  ieee visual communications and image 
processing (vcip) . ieee, p. 1 -4, 2017|| 
chollet, f.  deep learning with python . manning publications co., 2017|| 
chow, c. k.; kaneko, t. automatic boundary detection of the left ventr icle from 
cineangiograms.  computers and biomedical research , v. 5, n. 4, p. 388 -410, 1972|| 
crósta, a. p . processamento digital de imagens de sensoriamento remoto , 
campinas, sp, unicamp, ed. rev., 1993.   
david, o . e.; netanyahu, n . s. deeppainter: painter classification using deep 
convolutional autoencoders. in:  international conference on artificial neural 
networks . springer, cham, p. 20 -28, 2016|| 
dalvi, r. f.  detecção e classificação de câncer a partir de mamografias 
digitalizada s e redes neurais convolucionais .106f. (dissertação de mestrado)  
programa de pós -graduação em engenharia elétrica da universidade federal do 
espírito santo , espírito santo, 2018|| 
dertat, a. applied deep learning - part 4: convolutional neural networks. 8 
nov. 2017. disponível em : < https://towardsdatascience.com/applied -deep -learning -
part-4-convolutional -neural -networks -584bc134c1e2 >. acesso em: 15 nov. 2018|| 
dice, l . r. measures of the amount of ecologic association between 
species.  ecology , v. 26, n. 3, p. 297 -302, 1945|| 
dumoulin, v .; visin, f. a guide to convolution arithmetic for deep learning.  arxiv 
preprint arxiv:1603.07285 , 2016|| 
fitzgibbon, a. w.; fisher, r. b.  a buyer’s guide to conic fitting . proc.5th 
british machine vision conference , birmingham, pp. 513 -522, 1995|| 
grand -challenges©. automated measurement of fetal head circumference . 
2018. disponível em: < https://hc18.grand -challenge.org/>||acesso em: 15 jan. 2019|| 
ginneken, v.b.; et al. active shape model segmentation with optimal 
features.  ieee transactions on medical imaging , v. 21, n. 8, p. 924 -933, 2002|| 
girshick, r .; et al. rich feature hierarchies for accurate object detection and 
semantic segmentation. in:  ieee conference on computer vision and pattern 
recognition . columbus, oh , p. 580 -587, 2014|| 
gonzalez, r. c.; woods, r. e. digital image processing . 2. ed.  new jersey : 
pearson prentice hall, 2001|| 
gonzalez, r. c.; woods, r. e. digital image processing , 3. ed. new jersey:  
pearson prentice hall, 2008|| 
goodfellow, i .; et al. deep learning . 1. ed. cambridge: mit press, 2016|| 
guariglia s. n. breve história da ultrassonografia . 2016 . 
disponível em: < http://daimagem.com.br/site/breve -historia -da-ultrassonografia/> . 
acesso em: 1 nov. 2018 . 
 
hafemann, l. g. an analysis of deep neural networks for texture 
classification . 89 f. dissertação (mestrado) - programa de pós -graduação em 
informática, setor de ciências exatas, universidade federal do paraná, curitiba, 
2014 . 
  
han, d.; kim, j.; kim, j. deep pyramidal residual networks. in:  eee conference on 
computer vision and pattern recognition (cvpr). honolulu, hi, p. 6307 -6315 , 
2017.   
 
haralick, r. m.; shapiro, l. g. image segmentation techniques. 
in: applications of artificial intelligence ii . international society for optics and 
photonics, p. 2 -10, 1985|| 
hauff , p.; reinhard t, m.; foster , s. ultrasound basics. in:  molecular 
imaging i . springer, berlin, heidelberg, p. 91 -107, 2008|| 
he, k.; et al. delving  deep into rectifiers: surpassing human -level performance on 
imagenet classification. in:  ieee international conference on computer vision 
(iccv) . p. 1026 -1034 , 2015|| 
helmstaedter, m.; et al. connectomic reconstruction of the inner plexiform layer 
in the mouse retina.  nature , v. 500, n. 7461, p. 168, 2013|| 
heuvel, v. d. t. l. ; et al. (2018 ). automated measurement of fetal head 
circumference [data set] . zenodo. http://doi.org/10.5281/zenodo.1327317  
acesso em: 5 set. 2018|| 
hinton, g . e.; et al. improving  neural networks by preventing co -adaptation of 
feature detectors.  arxiv preprint arxiv:1207.0580 , 2012|| 
huttenlocher, d.; klanderman, g.; rucklidge, w. comparing images 
using the hausdorff distance. ieee transactions on pattern analysis and 
machine intel ligence , v. 15, n. 9, p. 850 –863, 1993|| 
ioffe, s.; szegedy, c. batch normalization: accelerating deep network training by 
reducing internal covariate shift.  arxiv preprint arxiv:1502.03167 , 2015|| 
jardim, s . m.; figueiredo, m . a. segmentation of fetal ultrasound 
images.  ultrasound in medicine & biology , v. 31, n. 2, p. 243 -250, 2005|| 
jang, j.; et al. automatic estimation of fetal abdominal circumference from 
ultrasound images.  ieee journal of biomedical and health informatics , v. 22, n. 5, 
p. 1512 -1520, 2018|| 
karpathy , a. convolutional neural networks for visual recognition . 2017||disponível em :< http://cs231n.github.io/convolutional -networks/ >. acesso em: 14 
nov. 2018 . 
 
karn, u. an intuitive explanation of convolutional neural networks . 2016. 
disponível em:  <https://ujjwalkarn.me/2016/08/11/intuitive -explanation -convnets>||acesso em: 17 nov. 2018 . 
 
kremkau, f . w. diagnóstico por ultra -som:  princípios e instrumentos.  4. ed . são 
paulo: artmed, 1996||  
krizhevsky, a.; sutskever, i.; hinton, g. e. imagenet classification with deep 
convolutional neural networks. in: advances in neural information processing 
systems . usa: curran associates inc.  p. 1097 –1105.  2012|| 
lecun, y. ; et al. gradient -based learning applied to document 
recognition.  proceedings of the ieee , v. 86, n. 11, p. 2278 -2324, 1998|| 
lecun, y .; bengio, y .; hinton, g. deep learning. nature , nature publishing 
group, v. 521, n. 7553, p. 436, 2015|| 
lecun, y.; kavukcuoglu, k.; farabet, c. convolutional networks and 
applications in vision. in:   ieee international symposium on circuits and 
systems  (iscas) . paris, p. 253 -256. 2010|| 
le. j.  how to do semantic segmentation using deep learning . 2018.  disponível 
em: < https://medium.com/nanonets/how -to-do-image -segmentation -using -deep -
learning -c673cc5862ef >. acesso  em: 15 nov. 2018 . 
 
lee, h.; et al. fully automated deep learning system for bone age 
assessment.  journal of digital imaging , v. 30, n. 4, p. 427 -441, 2017|| 
lee, c.; gallagher, p. w.; tu, z. generalizing pooling functions in convolutional 
neural networks: mixed, gated, and tree. in: artificial intelligence and statistics . 
2016. p. 464 -472. 
 
leval . aparelho de ultrassom . 2006 . disponível em:  
<https://commons.wikimedia.org/wiki/file:aparelhodeultrassom.jpg >. 
acesso em: 1 nov. 2018 . 
 
li, y.; et al. automatic fetal body and amniotic fluid segmentation from fetal 
ultrasound images by encoder -decoder network with inner layers. in:  engineering in 
medicine and biology society (embc), 2017 39th annual international 
conference of the ieee . ieee, p. 1485 -1488 , 2017|| 
lin, t.; et al. focal loss for dense object detection. in:  ieee international 
conference on computer vision (iccv). venice, p. 2999 -3007, 2017  
 
long, j.; shelhamer, e.; darrell, t. fully convolutional networks for semantic 
segmentation. in:  ieee conference on computer vision and pattern recognition 
(cvpr). boston, ma, p. 3431 -3440 , 2015|| 
lu, w.; tan, j.; floyd, r. automated fetal head detection and measurement in 
ultrasound images by iterative randomized hough transform.  ultrasound in 
medicine & biology , v. 31, n. 7, p. 929 -936, 2005|| 
ma, j.; et al. deep neural nets as a method for quantitative structure –activity 
relationships.  journal  of chemical information and modeling , v. 55, n. 2, p. 263 -
274, 2015||  
maciel, c. d.; pereira, w. c. a. modelagem e processamento de speckle em 
imagem ultra -sônica: uma revisão.  rbe -caderno de engenharia biomédica , v. 13, 
n. 1, p. 71 -89, 1997|| 
marques filho, o.; vieira neto, h. processamento digital de imagens , rio 
de janeiro: brasport, 1999|| 
milletari, f .; navab, n .; ahmadi, s. v -net: fully convolutional neural networks 
for volumetric medical image segmentation. in:  fourth international conference on 
3d vision (3dv). stanford, ca, p. 565 -571, 2016|| 
moigne, l. j .; tilton, j. c. refining image segmentation by integration of edge 
and region data.  ieee transactions on geoscience and remote sensing , v. 33, 
n. 3, p. 605 -615, 1995|| 
nascimento, p.  p. m. applications of deep learning techniques on nilm . 85f. 
dissertação programa de pós -graduação em engenharia elétrica, coppe,  
universidade federal do rio de janeiro , rio de janeiro  2016|| 
nvidia developer.  nvidia cudnn . 2018. disponível em:  
< https://developer.nvidia.com/cudnn>. acesso em: 13 dez. 2018|| 
obgyn  w. g. crl crown rump lengh 12 weeks ecografia dr. wolfgang 
moroder . 2006. disponível em:  
<https://commons.wikimedia.org/wiki/file:crl_crown_rump_lengh_12_weeks_ecog
rafia_dr._wolfgang_moroder.jpg>. acesso em: 1 nov. 2018|| 
oktay, o.; et al. attention u -net: learning where to look for the pancreas.  arxiv 
preprint arxiv:1804.03999 , 2018|| 
opencv. structural analysis and shape descriptors . disponível em:  
<https://docs.opencv.org/2.4/modules/imgproc/doc/structural_analysis_and_shape_d
escriptors.html>. acesso em: 2 fev. 2019|| 
opencv.  opencv manual online . disponível em: < https://docs.opencv.org/ >. 
acesso em: 15 jul. 2019|| 
pedrini, h.; schwartz, w. análise de imagens digitais: princípios, 
algoritmos e aplicações , 1. ed.  são paulo : thomson learning, 2008|| 
pintro, f.  análise morfológica dos eritrócitos nas doenças hematológicas 
através da aplicação de redes neurais artificiais no processamento de 
imagens digitais. 98 f. dissertação (mestrado em modelagem matemática) –
departamento de física, estatística e matemática, un iversidade regional do 
noroeste do estado do rio grande do sul, ijuí , 2008|| 
powers, d.  m. w. evaluation: from predcision, recall and f -factor to roc, 
informedness, markedness & correlation.  j. mach. learn. technol , v. 2, n. 1, p. 37 -
63, 2011||  
ramos, p. z. a. segmentação de imagens ultrassonográficas para detecção de 
nódulos . 138 f . tese de doutorado , escola de engenharia de são carlos 
departamento de engenharia elétrica,  universidade de são paulo , são paulo , 2010 . 
 
ravishankar, h. ; et al. hybrid approach for automatic segmentation of fetal 
abdomen from ultrasound images using deep learning. in:   ieee 13th international 
symposium on biomedical imaging (isbi ). prague , p. 779 -782, 2016|| 
ren, s.; et al. faster r -cnn: towards real -time object detection with region proposal 
networks. in:  advances in neural information processing systems . p. 91 -99, 
2015|| 
robin, x. ; et al. proc: an open -source package for r and s+ to analyze and 
compare roc curves.  bmc bioinformatics , v. 12, n. 1, p. 77, 2011|| 
ronneberger, o .; fischer, p; brox, t. u -net: convolutional networks for 
biomedical image segmentation. in:  international conference on medical image 
computing and computer -assisted intervention . springer, cham, p. 234 -241, 
2015|| 
romaguera, l . v. segmentação do miocárdio em imagens de mri cardíaca 
utilizando redes neurais convolutivas . 154 f. dissertação (mestrado ) - programa 
de pós -graduação em engenharia elétrica, universidade federal do amazonas. 
manaus, 2017|| 
rossum, g. python reference manual . amsterdam, the netherlands, the  
netherlands, 1995|| 
rueda, s. ; et al. evaluation and comparison of current fetal ultrasound image 
segmentation methods for biometric measurements: a grand challenge.  ieee 
transactions on medical imaging , v. 33, n. 4, p. 79 7-813, 2014|| 
safarzadeh , k. g. segmentation validation framework . 2013. department of 
biomedical engineering, linköping university, 2013|| 
salehi, s. s. m.; erdogmus, d.; gholipour, a. tversky loss function for image 
segmentation using 3d fully convolutional deep networks. in:  international 
workshop on machine learning in medical imaging . springer, cham, p. 379 -387, 
2017|| 
sanches, i. j. sobreposição de imagens de termografia e ressonância 
magnética: uma nova modalidade de imagem médica tridimensional , tese de 
doutorado, programa de pós -graduação em engenharia elétrica e informática 
industrial, universidade tecnológica federal do paraná, curitiba, 2009|| 
sanders, r. c.; james, a. e. the principles and practice of ultrasonography 
in obstet rics and gynecology . 1. ed. united states: radiology and nuclear 
medicine, 1985||  
santos, a. d. p. controle de qualidade cartográfica: metodologias para a 
avaliação da acurácia posicional em dados espaciais . tese de doutorado, 
programa de pós -graduação em e ngenharia civil, universidade federal de viçosa. 
viçosa, 2015|| 
sewak, m .; karim, m. r.; pujari, p.  practical convolutional neural networks: 
implement advanced deep learning models using python . packt publishing ltd, 
2018|| 
sguario, m. l. uma nova abordagem do método level set  baseada em 
conhecimento a priori da forma . tese de doutorado, programa de pós -graduação 
em engenharia elétrica e informática industrial, universidade tecnológica federal 
do paraná. curitiba, 2015|| 
shattuck, d.  w.; et  al. magnetic resonance image tissue classification using a 
partial volume model.  neuroimage , v. 13, n. 5, p. 856 -876, 2001|| 
sinclair, m. ; et al. human -level performance on automatic head biometrics in fetal 
ultrasound using fully convolutional neural networks.  arxiv preprint 
arxiv:1804.09102 , 2018|| 
singhal , h. convolutional neural network with tensorflow implementation . 
2017. disponível em : < https://medium.com/data -science -group -iitr/building -a-
convolutional -neural -network -in-python -with-tensorflow -d251c3ca8117> . acesso em: 
15 nov. 2018 . 
 
simonyan, k .; zisserman, a. very deep convolutional networks for large -scale 
image recognition.  arxiv  preprint arxiv:1409.1556 , 2014|| 
sobel, i .; feldman, g. a 3x3 isotropic gradient operator for image processing.  a 
talk at the stanford artificial project in , p. 271 -272, 1968|| 
sobhaninia, z. ; et al. fetal ultrasound image segmentation for measuring 
biometric parameters using multi -task deep learning.  arxiv preprint 
arxiv:1909.00273 , 2019|| 
soille, p. morphological image analysis: principles and applications , 
springer -verlag, pp. 173 –174, 1999|| 
springenberg, j. t.; et al. striving for simplicity: the all convolutional net.  arxiv 
preprint arxiv:1412.6806 , 2014|| 
sudhakar , s. custom image augmentation . 2018. disponível em:< 
https://towardsdatascience.com/image -augmentation -14a0aafd0498>||acesso em: 13 jan. 2019|| 
sundaresan, v. ; et al. automated characterization of the fetal heart in ultrasound 
images using fully convolutional neural networks. in:  ieee 14th international 
symposium on biomedical imaging (isbi 2017), melbourne, vic, p. 671 -674, 
2017.   
suzuki, s.; et al. topological structural analysis of digitized binary images by border 
following.  computer vision, graphics, and image processing , v. 30, n. 1, p. 32 -46, 
1985|| 
szegedy, c .; et al. going deeper with convolutions. in:  ieee conference on 
computer vision and pattern recognition (cvpr). boston, ma, p. 1 -9, 2015|| 
vieira, j. m. n. matlab num instante.  universidade de aveiro, portugal , 2004|| 
zayed, n. m. ; et al. wavelet segmentation for fetal ultrasound images. 
in: proceedings of the 44th ieee 2001 midwest symposium on circuits and 
systems. mwscas 2001 (cat. no.01ch37257) , dayton, oh, usa, p. 501 -504 
vol.1 , 2001|| 
zhang, q.; et al. image segmentation with pyramid dilated convolution based on 
resnet and u -net. in:  international conference on neural information 
processing . springer, cham, p. 364 -372, 2017|| 
zeiler, m . d.; fergus, r . visualizing and understanding convolutional networks. 
in: european conference on computer vision . springer, cham, 2014. p. 818 -833. 
 
yang, j. relu and softmax activation functions. 2017. disponível em:  < 
https://github.com/kulbear/deep -learning -nano -foundation/wiki/relu -and-softmax -
activation -functions >. acesso em: 5 dez. 2018 . 
 
wu, h.; gu, x. towards dropout training for convolutional  neural networks.  neural 
networks , v. 71, p. 1 -10, 2015|| 
wu, l. ; et al. fuiqa: fetal ultrasound image quality assessment with deep 
convolutional networks.  ieee transactions on cybernetics , v. 47, n. 5, p. 1336 -
1349, 2017|| 
wu, l. ; et al. cascaded fully convolutional networks for automatic prenatal 
ultrasound image segmentation. in:   ieee 14th international symposium on 
biomedical imaging (isbi 2017) . ieee, p. 663 -666, 2017.  